<!DOCTYPE HTML>
<html>
  <head>
  </head>
  <body>
    <h1>Unicorn Shop</h1>
    <label>Product name:<input id="pn"></label><br>
    <label>Product image:<input id="pi" type="file"></label><br>
    <label>Product Description:<input id="pd"></label><br>
    <button onclick="make()">Make Product</button>
    <div id="link"></div>
    <script>
        let pim = ""
        pi.addEventListener('change', (e) => {
          // Get a reference to the file
          const file = e.target.files[0];

          // Encode the file using the FileReader API
          const reader = new FileReader();
          reader.onloadend = () => {
              pim = reader.result
            // Logs data:<type>;base64,wL2dvYWwgbW9yZ...
            };
          reader.readAsDataURL(file);
        });
        function make() {
            let lin = `https://loeasy68.github.io/clients/shop/shop.html?pn=${pn.value}&pi=${pim.value}&pd=${pd.value}`
            link.innerHTML = lin
        }
    </script>
  </body>
</html>
